<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>시간선택</h1>
    <div class="day-box"></div>
    <div class="time-box"></div>

    <script>
      function makeTimeBox(howManyDays, howManyTimes) {
        let divDayContainer = document.querySelector(".day-box");
        let divTimeContainer = document.querySelector(".time-box");

        let today = new Date();
        // console.log(today);

        let year = today.getFullYear(); // 년도
        let month = today.getMonth() + 1; // 월
        let date = today.getDate(); // 날짜
        let day = today.getDay(); // 요일
        let hours = today.getHours(); // 시
        let minutes = today.getMinutes(); // 분

        let min30;
        let hour30;
        if (minutes < 30) {
          min30 = 30;
          hour30 = hours;
        } else {
          min30 = 0;
          hour30 = hours + 1;
        }

        function makeResTimes(n) {
          for (let i = 0; i < n; i++) {
            let resTime = new Date(year, month, date, hour30, min30 + i * 30);
            let resDay = resTime.getDate();
            let resHour = resTime.getHours();
            let resMinutes = resTime.getMinutes();
            resMinutes = resMinutes ? resMinutes : "00";

            let divTimeBox = document.createElement("div");
            divTimeBox.innerText = resHour + ":" + resMinutes;
            divTimeContainer.append(divTimeBox);
          }
        }
        function makeResDays(n) {
          for (let i = 0; i < n; i++) {
            let divDayBox = document.createElement("div");
            divDayBox.innerText = date + i;
            divDayContainer.append(divDayBox);
          }
        }
        makeResDays(howManyDays);
        makeResTimes(howManyDays);
      }

      makeTimeBox(7, 16);
    </script>
  </body>
</html>
